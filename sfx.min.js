window.SFX=function(n,k){function l(a,b,d){if(h&&c[a])for(var e=0;e<c[a].length;e++)c[a][e][b]=d}var f=this,c={},h=!1,o="",m="ogg",j=100,p=!1;f.add=function(a,b,d,e){if(h)if("object"===typeof a)for(var g in a)f.add.apply(this,[g].concat("[object Array]"===Object.prototype.toString.call(a[g])?a[g]:[a[g]]));else{g="[object Array]"===Object.prototype.toString.call(b)?b:[b];for(var b=[],e=e>g.length?e:g.length,i=0;i<g.length;i++)b.push((g[i].match(/^\//)?g[i]:o+"/"+g[i]).replace(/\.[a-z0-9]{1,4}$/i,"")+
"."+m);c[a]=[];c[a].lastPlayed=-1;c[a].muted=!1;for(g=0;g<e;g++)i=new Audio(b[g%b.length]),i.volume=(!isNaN(parseFloat(d))&&isFinite(d)?j/100*d:j)/100,c[a].push(i)}};f.remove=function(a){delete c[a]};f.play=function(a,b){if(h&&!p&&c[a]&&!c[a].muted){var d=0;if(1<c[a].length)if(b){for(var d=[],e=0;e<c[a].length;e++)c[a][e].paused&&d.push(e);d=0<d.length?d[Math.floor(Math.random()*d.length)]:Math.floor(Math.random()*c[a].length)}else d=c[a].lastPlayed=++c[a].lastPlayed>=c[a].length?0:c[a].lastPlayed;
c[a][d].play()}};f.loop=function(a,b){l(a,"loop",!0);f.play(a,b)};f.pause=function(a,b){if(h&&c[a])for(var d=0;d<c[a].length;d++)c[a][d].pause(),c[a][d].loop=!1,b&&(c[a][d].currentTime=0)};f.toggle=function(a,b){if(h&&c[a]){for(var d=0,e=0;e<c[a].length;e++)c[a][e].paused||d++;d?f.pause(a):f.play(a,b)}};f.stop=function(a){f.pause(a,1)};f.volume=function(a,b){if(h&&(b="string"===typeof a?b:a,a="string"===typeof a?a:!1,!isNaN(parseFloat(b))&&isFinite(b)&&!(0>b||100<b)))if(a)l(a,"volume",j/100*b/100);
else{j=b;for(var d in c)l(d,"volume",j/100*(c[d][0].volume/1))}};f.mute=function(a,b){b="boolean"===typeof b?b:"boolean"===typeof a?a:!0;if(a="string"===typeof a?a:!1)b&&f.pause(a),c[a].muted=b;else{if(b)for(var d in c)f.pause(d);p=b}};(function(){var a=document.createElement("audio");try{if(h=!!a.canPlayType)h=new Boolean(h),h.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),h.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,"")}catch(b){}k&&(h=!!h[k.toLowerCase()]);m=k?k.toLowerCase():
h.ogg?"ogg":"mp3";o=n?n.replace(/\/+$/,"").replace(/\{\{type\}\}/,m):""})()};
