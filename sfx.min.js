window.SFX=function(n,i){function j(a,b,d){if(g&&c[a])for(var e=0;e<c[a].length;e++)c[a][e][b]=d}var e=this,c={},g=!1,o="",l="ogg",p=1,m=!1;e.add=function(a,b,d,k){if(g)if("object"===typeof a)for(var f in a)e.add.apply(this,[f].concat("[object Array]"===Object.prototype.toString.call(a[f])?a[f]:[a[f]]));else{f="[object Array]"===Object.prototype.toString.call(b)?b:[b];for(var b=[],k=k>f.length?k:f.length,h=0;h<f.length;h++)b.push((f[h].match(/^\//)?f[h]:o+"/"+f[h]).replace(/\.[a-z0-9]{1,4}$/i,"")+
"."+l);c[a]=[];c[a].lastPlayed=-1;c[a].muted=!1;for(f=0;f<k;f++)h=new Audio(b[f%b.length]),h.volume=!isNaN(parseFloat(d))&&isFinite(d)?d/100:p,c[a].push(h)}};e.remove=function(a){delete c[a]};e.play=function(a,b){if(g&&!m&&c[a]&&!c[a].muted){var d=0;if(1<c[a].length)if(b){for(var d=[],e=0;e<c[a].length;e++)c[a][e].paused&&d.push(e);d=0<d.length?d[Math.floor(Math.random()*d.length)]:Math.floor(Math.random()*c[a].length)}else d=c[a].lastPlayed=++c[a].lastPlayed>=c[a].length?0:c[a].lastPlayed;c[a][d].play()}};
e.loop=function(a,b){j(a,"loop",!0);j(a,"currentTime",0);e.play(a,b)};e.pause=function(a,b){if(g&&c[a])for(var d=0;d<c[a].length;d++)c[a][d].pause(),c[a][d].loop=!1,b&&(c[a][d].currentTime=0)};e.stop=function(a){e.pause(a,1)};e.volume=function(a,b){if(g)if(b=(!isNaN(parseFloat(a))&&isFinite(a)?a:b)/100,a="string"===typeof a?a:!1)j(a,"volume",b),b&&(c[a].muted=1);else{for(var d in c)j(d,"volume",b);p=b;m=!b}};e.mute=function(a,b){b="boolean"===typeof b?b:"boolean"===typeof a?a:!0;if(a="string"===typeof a?
a:!1)b&&e.pause(a),c[a].muted=b;else{if(b)for(var d in c)e.pause(d);m=b}};(function(){var a=document.createElement("audio");try{if(g=!!a.canPlayType)g=new Boolean(g),g.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),g.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,"")}catch(b){}i&&(g=!!g[i.toLowerCase()]);l=i?i.toLowerCase():g.ogg?"ogg":"mp3";o=n?n.replace(/\/+$/,"").replace(/\{\{type\}\}/,l):""})()};
